policies:
- ../simple-policy.yaml
resources:
- resources.yaml
vapTestSuites:
- policy: simple-policy
  tests:
  - object:
      kind: Deployment
      name: good-deployment
    expect: admit
  - object:
      kind: Deployment
      name: bad-deployment
    expect: deny
- policy: error-policy
  tests:
  - object:
      kind: Deployment
      name: good-deployment
    expect: error
mapTestSuites:
- policy: simple-policy
  binding: simple-policy-binding
  tests:
  - object: 
      kind: Deployment
      name: good-deployment
    expect: mutate
    expectObject:
      kind: Deployment
      name: more-replicas-deployment
  - object: 
      kind: Deployment
      name: many-replicas-deployment
    expect: skip